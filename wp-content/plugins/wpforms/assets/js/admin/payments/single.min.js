let WPFormsPaymentsSingle=window.WPFormsPaymentsSingle||((e,s,a)=>{let o={init(){a(o.ready)},ready(){o.initTooltips(),o.paymentDeletionAlert(),o.actionButtons()},initTooltips(){void 0!==jQuery.fn.tooltipster&&jQuery(".wpforms-single-payment-tooltip").tooltipster({contentCloning:!0,theme:"borderless",contentAsHTML:!0,position:"top",maxWidth:500,multiple:!0,interactive:!0,debug:!1})},paymentDeletionAlert(){a(e).on("click",".wpforms-payment-actions .button-delete",function(e){e.preventDefault();let n=a(this).attr("href");a.confirm({title:wpforms_admin.heads_up,content:wpforms_admin_payments_single.payment_delete_confirm,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"],action(){s.location=n}},cancel:{text:wpforms_admin.cancel,keys:["esc"]}}})})},actionButtons(){a(e).on("click",".wpforms-payments-single-action",t=>{let s=a(t.currentTarget).data("gateway"),e=wpforms_admin.single_payment_button_handlers;if(e&&e.includes(s)){t.preventDefault();let e=a(t.currentTarget).data("action-id"),n=a(t.currentTarget).data("action-type");a.confirm({title:wpforms_admin.heads_up,content:o.strings[n].confirm,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"],action:()=>{o.sendActionRequest(e,s,n)}},cancel:{text:wpforms_admin.cancel,keys:["esc"]}}})}})},sendActionRequest(e,n,t){a.ajax({url:wpforms_admin.ajax_url,type:"POST",data:{action:"wpforms_"+n+"_payments_"+t,payment_id:e,nonce:wpforms_admin.nonce},dataType:"json",success:e=>{e.success?a.alert({title:wpforms_admin.success,content:o.strings[t].success,icon:"fa fa-check-circle",type:"green",buttons:{confirm:{text:wpforms_admin.close_refresh,btnClass:"btn-confirm",keys:["enter"],action:()=>{s.location.reload()}}}}):o.failedResponseAlert(e?.data?.modal_msg||"")},error:()=>{o.failedResponseAlert()}})},strings:{refund:{confirm:wpforms_admin_payments_single.payment_refund_confirm,success:wpforms_admin_payments_single.payment_refund_success},cancel:{confirm:wpforms_admin_payments_single.payment_cancel_confirm,success:wpforms_admin_payments_single.payment_cancel_success}},failedResponseAlert(e=""){a.alert({title:wpforms_admin.heads_up,content:""===e?wpforms_admin.try_again:e,icon:"fa fa-exclamation-circle",type:"red",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return o})(document,window,jQuery);WPFormsPaymentsSingle.init();