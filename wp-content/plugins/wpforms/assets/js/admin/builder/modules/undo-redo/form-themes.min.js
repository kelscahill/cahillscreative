export default function(e,o,n){class t extends WPForms.Admin.Builder.UndoRedoInputCommandBase.get(){static id="FormThemeChangeCommand";applyValue(e){r.preventRecordingCommand=!0;var o=r.getThemeButtonsGroup(this.$input);o?.length&&(o.find('[role="radio"]').removeClass("is-active"),o.find(`[role="radio"][value="${e}"]`).addClass("is-active"),WPForms.Admin.Builder.Themes?.themes?.selectTheme(e),r.preventRecordingCommand=!1)}getActionName(){var e;return this.actionName||(e=r.getInputLabel(this.$input),[wp.i18n.__("Change","wpforms"),e].filter(Boolean).join(" "))}}let r={el:{},sel:{themeButtonsGroup:".wpforms-builder-themes-radio-group",themeButton:'.wpforms-builder-themes-radio-group button[role="radio"]'},undoManager:null,init(){r.setup(),r.el.$builder.on("wpformsBuilderReady",_.debounce(r.ready,250))},setup(){r.el.$document=n(e),r.el.$builder=n("#wpforms-builder"),r.themeControlKey="form-theme"},ready(){try{r.UndoRedo=WPForms.Admin.Builder.UndoRedo,r.UndoRedoHelpers=WPForms.Admin.Builder.UndoRedoHelpers,r.undoManager=r.UndoRedo.undoManager,r.el={...r.el,...r.UndoRedo.el}}catch(e){return void wpf.debug("UndoRedoFormThemes: Dependency modules are not available.")}r.UndoRedo.registerCommand(t),r.events()},events(){r.el.$document.on("focusin",r.sel.themeButton,r.onThemeButtonFocus).on("click",r.sel.themeButton,r.onThemeButtonClick)},getThemeValue(e){e=r.getThemeButtonsGroup(e);return e?.length?e.find("button.is-active").attr("value"):null},onThemeButtonFocus(e){e=n(e.target),e=r.getThemeValue(e);r.UndoRedo.trackedInputs.set(r.themeControlKey,e)},onThemeButtonClick(e){var o,t;r.preventRecordingCommand||(e=n(e.target),o=r.UndoRedo.trackedInputs.get(r.themeControlKey),t=r.getThemeValue(e),e=r.UndoRedo.getCommand("FormThemeChangeCommand",e,o,t),r.UndoRedo.record(e))},getThemeButtonsGroup(e){return e.closest(r.sel.themeButtonsGroup)},getInputLabel(e){return wp.i18n.__("Form Theme","wpforms")}};return r}